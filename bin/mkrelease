#!/bin/bash
# Make a release of the xMML format. Part of the xMML distribution.
# Author: J.Borgdorff, created 2011-02-21
# Start in xMML directory

VERSION=$1
TAG=v$VERSION
DIR=release/$TAG

git checkout $TAG
mkdir -p release/$TAG
if [[ `grep $VERSION xmml.dtd | wc -l` ]]; then
	cp xmml.dtd $DIR/xmml-$VERSION.dtd
else
	echo "WARNING: xMML Document Type Definition does not match version of Git repository"
fi

if [[ `grep $VERSION xMML.xsd.xml | wc -l` ]]; then
	cp xMML.xsd.xml $DIR/xMML-$VERSION.xsd.xml
else
	echo "WARNING: xMML Schema Definition does not match version of Git repository"
fi

git checkout HEAD
