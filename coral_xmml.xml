<model id="Coral" name="Coral growth">
  <description>
    The growth of a coral colony, mapped in 3D. The coral is subdivided into
    polyps that live on the outside of the coral. Growth of the coral is
    determined by the calcification rate of the polyps and is influenced by
    lighting and sustenance. Lighting is influenced by the 3D shape of the coral
    as is the diffusion of sustenance. Polyps may communicate, genetically
    diversify or transmit energy to their neighbors. The coral colony shape
    then emerges from the growth of individual polyps.
  </description>

	<submodels>
		<submodel id="macro" name="Macro model" class="kernel.macro.Macro" >
			<scale type="time" id="t" delta="-1" max="1"/>
			<scale type="space" id="x" delta="-2" max="0"/>
			<scale type="space" id="y" delta="-2" max="0"/>
			
			<ports>
				<in id="viscosity" operator="C" type="doubleProperty" multiplicity="dynamic"/>
				<out id="shear_stress" operator="Oi" type="doubleProperty" multiplicity="dynamic"/>
			</ports>
		</submodel>
		<submodel id="micro" name="Micro model" class="kernel.flow3d.FlowTestController" persistence="none">
			<scale type="time" id="t" delta="-3" max="-1"/>
			<scale type="space" id="x" delta="-6" max="-4"/>
			<scale type="space" id="y" delta="-6" max="-4"/>
			
			<ports>
				<in id="shear_stress" operator="finit" type="doubleProperty"/>
				<out id="viscosity" operator="Of" type="doubleProperty"/>
			</ports>
		</submodel>
	</submodels>
	
	<couplings>
		<coupling id="macro2micro" from="macro.viscosity" to="micro.viscosity"/>
		<coupling id="micro2macro" from="micro.viscosity" to="macro.viscosity"/>
	</couplings>
	
	<datatypes>
		<datatype id="doubleProperty" class="datatype.DoubleProperty" size="sizeof(double)"/>
	</datatypes>
</model>