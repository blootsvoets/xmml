<?xml version="1.0"?>
<metadata>

  <datatype id="latticeInt" class="datatype.LatticeInt" size="nx*ny*sizeof(int)">
    <var name="nx" default="steps(x)" type="int"/>
    <var name="ny" default="steps(y)" type="int"/>
  </datatype>
  <datatype id="latticeDouble" class="datatype.LatticeDouble" size="nx*ny*sizeof(double)">
    <var name="nx" default="steps(x)" type="int"/>
    <var name="ny" default="steps(y)" type="int"/>
  </datatype>
  <datatype id="agentLocations" class="datatype.AgentLocations" size="3*n*sizeof(double)">
    <var name="n" default="param(n)" type="int"/>
  </datatype>
  <datatype id="agentDouble" class="datatype.AgentPropertyDouble" size="n*sizeof(double)">
    <var name="n" default="param(n)" type="int"/>
  </datatype>
  <datatype id="latticeMetadata" class="datatype.LatticeMeta" size="2*sizeof(int) + 4*sizeof(double)"/>
  
  <converter id="latticeDouble2agents" from="latticeDouble" to="agentDouble" class="datatype.converter.Latticedouble2agents">
    <requires id="agents" datatype="agentLocations" src="sink"/>
  </converter>
  <converter id="agents2latticeInt" from="agentLocations" to="latticeInt" class="datatype.converter.Agents2latticeInt">
    <requires id="latticeProps" datatype="latticeMetadata" src="sink"/>
  </converter>

</metadata>
